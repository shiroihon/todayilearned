<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script type="application/javascript" src='https://shiroimon.kithub.f5.si/js/theme-mode.js'></script>
    <link rel="stylesheet" href='https://shiroimon.kithub.f5.si/css/frameworks.min.css' />
    <link rel="stylesheet" href='https://shiroimon.kithub.f5.si/css/github.min.css' />
    <link rel="stylesheet" href='https://shiroimon.kithub.f5.si/css/github-style.css' />
    <link rel="stylesheet" href='https://shiroimon.kithub.f5.si/css/light.css' />
    <link rel="stylesheet" href='https://shiroimon.kithub.f5.si/css/dark.css' />
    <link rel="stylesheet" href='https://shiroimon.kithub.f5.si/css/syntax.css' />
    <title>[Git] Branches pruning - Today I Learned | KitHub</title>
    
    <link rel="icon" type="image/x-icon" href='../../images/github-mark.png'>
    
    <meta name="theme-color" content="#1e2327">

    
    <script type="text/javascript" src="https://shiroimon.kithub.f5.si/js/gist-dark-mode.js"></script>

    
    <meta name="description"
  content="📍When developing on GitHub, I often switch branches, just like pruning." />
<meta name="keywords"
  content='blog' />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://shiroimon.kithub.f5.si/post/github_branches_pruning/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="[Git] Branches pruning - Today I Learned | KitHub" />
<meta name="twitter:description"
  content="📍When developing on GitHub, I often switch branches, just like pruning." />
<meta name="twitter:site" content="https://shiroimon.kithub.f5.si/" />
<meta name="twitter:creator" content="shiro" />
<meta name="twitter:image"
  content="https://shiroimon.kithub.f5.si/">


<meta property="og:type" content="article" />
<meta property="og:title" content="[Git] Branches pruning - Today I Learned | KitHub">
<meta property="og:description"
  content="📍When developing on GitHub, I often switch branches, just like pruning." />
<meta property="og:url" content="https://shiroimon.kithub.f5.si/post/github_branches_pruning/" />
<meta property="og:site_name" content="[Git] Branches pruning" />
<meta property="og:image"
  content="https://shiroimon.kithub.f5.si/">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2024-09-24 18:08:08 &#43;0900 JST" />











</head>


<body>
  <div style="position: relative">
  <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on">
    <div class="Header-item mobile-none" style="margin-top: -4px; margin-bottom: -4px;">
      <a class="Header-link" href="https://shiroimon.kithub.f5.si/">
        <img class="octicon" height="32" width="32" src="../../images/github-mark-white.png">
      </a>
    </div>
    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button"
        onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24">
          <path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z">
          </path>
        </svg>
      </button>
    </div>
    <div style="display: none;" id="header-search"
      class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
      <div
        class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
        <div class="position-relative">
          
          <form target="_blank" id="search-form" action="" accept-charset="UTF-8" method="get"
            autocomplete="off">
            <label
              class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
              <input type="text"
                class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
                name="q" value="" placeholder="Search" autocomplete="off">
            </label>
          </form>
          
        </div>
      </div>
    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
      <a class="Header-link " href="https://shiroimon.kithub.f5.si/">
        <img class="octicon octicon-mark-github v-align-middle" height="32" width="32" src="../../images/github-mark-white.png">
      </a>
    </div>
    <div class="Header-item" style="margin-right: 0;">
      <a href="javascript:void(0)" class="Header-link no-select" onclick="switchTheme()">
        <svg style="fill: var(--color-profile-color-modes-toggle-moon);" class="no-select" viewBox="0 0 16 16"
          version="1.1" width="16" height="16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z">
          </path>
        </svg>
      </a>
    </div>
  </header>
</div>

  <div id="search-result" class="container-lg px-3 new-discussion-timeline" style="display: none;">
</div>

  
<div class="application-main">
  <div>
<main>
    
    <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
    <div class="px-0">
    <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
    <div class="flex-auto min-width-0 width-fit mr-3">
    <div class="d-flex">
        
        <div class="d-none d-md-block">
            <a class="avatar mr-2 flex-shrink-0" href="https://shiroimon.kithub.f5.si/">
                <img class=" avatar-user"
                  src="../../images/avatar.png"
                  width="32"
                  height="32">
            </a>
        </div>
        
        <div class="d-flex flex-column">
            
            <h1 class="break-word f3 text-normal mb-md-0 mb-1">
                <span class="author"><a href="https://shiroimon.kithub.f5.si/"></a></span>
                <span class="path-divider">/</span>
                <strong class="css-truncate css-truncate-target mr-1" style="max-width: 410px"><a href="https://shiroimon.kithub.f5.si/post/github_branches_pruning/">[Git] Branches pruning</a></strong>
            </h1>
            
            <div class="note m-0">
                Created <relative-time datetime="Tue, 24 Sep 2024 18:08:08 &#43;0900" class="no-wrap">Tue, 24 Sep 2024 18:08:08 &#43;0900</relative-time>
                
                <span class="path-divider">|</span>
                Modified <relative-time datetime="Wed, 22 Oct 2025 21:28:51 &#43;0900" class="no-wrap">Wed, 22 Oct 2025 21:28:51 &#43;0900</relative-time>
                
            </div>
        </div>
    </div>
    </div>
    </div>
    </div>
    </div>

    
    <div class="container-lg px-3 new-discussion-timeline">
    <div class="repository-content gist-content">
    <div>
        <div class="js-gist-file-update-container js-task-list-container file-box">
        <div id="file-pytest" class="file my-2">
        
        <div id="post-header" class="file-header d-flex flex-md-items-center flex-items-start sticky-header" style="z-index: 2">
        <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
            
            <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
            <summary id="toc-toggle" onclick="clickToc()" class="btn btn-octicon m-0 mr-2 p-2">
                <svg aria-hidden="true" viewBox="0 0 16 16" class="octicon octicon-list-unordered" height="16" width="16">
                    <path fill-rule="evenodd"
                        d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z">
                    </path>
                </svg>
            </summary>
            <details-menu class="SelectMenu" id="toc-details" style="display: none;">
                <div class="SelectMenu-modal rounded-3 mt-1" style="max-height: 340px;">
                    <div class="SelectMenu-list SelectMenu-list--borderless p-2" style="overscroll-behavior: contain;" id="toc-list"></div>
                </div>
            </details-menu>
            5096 Words
            <span class="path-divider">|</span>
            7 min
            </div>

            
            <div class="file-actions flex-order-2 pt-0">
                
                <div class="d-none d-md-flex">
                    
                    
                    
                    <a class="muted-link mr-3" href="../../tags/git">
                        <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                            <path fill-rule="evenodd"
                                d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                            </path>
                        </svg>
                        Git
                    </a>
                    
                    
                    
                    <a class="muted-link mr-3" href="../../tags/github">
                        <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                            <path fill-rule="evenodd"
                                d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                            </path>
                        </svg>
                        GitHub
                    </a>
                    
                    
                    
                    <a class="muted-link mr-3" href="../../tags/cli">
                        <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                            <path fill-rule="evenodd"
                                d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                            </path>
                        </svg>
                        CLI
                    </a>
                    
                    
                    
                </div>
                
            </div>
        </div>
        </div>

        
        <div class="Box-body px-5 pb-5" style="z-index: 1">
            <article class="markdown-body entry-content container-lg"><!-- Icon Badge -->
<p><img src="https://img.shields.io/badge/-Git-F05032.svg?logo=git&amp;style=flat&amp;color=F0F8FF&amp;logoColor=" alt="Git">
<img src="https://img.shields.io/badge/-GitHub-181717.svg?logo=github&amp;style=flat&amp;color=F0F8FF&amp;logoColor=181717" alt="GitHub"></p>
<!-- [![img](https://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/Git-logo.svg/300px-Git-logo.svg.png)](https://ja.wikipedia.org/wiki/Git) -->
<h2 id="why">Why<a class="anchor" aria-hidden="true" href="#why"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h2>
<!--------------------------------------------------------
### 
```
-[main] branch ------------------------------------------
      └> Aさん[faeture_A] branch ------------------------
                        └> Bさん[feature_C] branch ------
```
--------------------------------------------------------->
<pre tabindex="0"><code>remote -[main] repository ----------------------------------------------------&gt;
             | ❶/fork
             ↓
remote -[main] repository ----------------------------------------------------&gt;
             | ❶/clone　                                   ↑ ⑤/push |
             ↓                  ↑ ③/commit -- ↑ ④/commit -┘         ↓ ❻/pull
local   [main] branch ----------|------------- |----------------------&gt;
             | ❷/chackout　　   | /add         | /add
             └-&gt; Aさん[feature_A] branch ------┘
</code></pre><h2 id="what">What<a class="anchor" aria-hidden="true" href="#what"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h2>


<div>
    <div class="github-card" data-github="Git" data-theme="default"></div>
    <script src="https://cdn.jsdelivr.net/github-cards/latest/widget.js"></script>
</div>


<ul>
<li>Official: <a href="https://git-scm.com">https://git-scm.com</a> | <a href="https://git-scm.com/doc">doc</a> | <a href="https://git-scm.com/community">com</a> | <a href="https://git-scm.com/downloads">dw</a></li>
<li>GitHub:   <a href="https://github.com/GIT">https://github.com/GIT</a></li>
</ul>
<h3 id="ワークフローという哲学">ワークフローという哲学<a class="anchor" aria-hidden="true" href="#ワークフローという哲学"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h3>
<table>
  <thead>
      <tr>
          <th style="text-align: left">ワークフロー名</th>
          <th style="text-align: left">種類別ブランチ名</th>
          <th style="text-align: left">対応規模</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">GitHub flow</td>
          <td style="text-align: left">2種(<code>master/main</code>, <code>feature</code>）</td>
          <td style="text-align: left">個人 ~ 小規模</td>
      </tr>
      <tr>
          <td style="text-align: left">Git-flow</td>
          <td style="text-align: left">5種(<code>master/main</code>, <code>develop</code>, <code>feature</code>, <code>release</code>, <code>hot-fix</code>)</td>
          <td style="text-align: left">大規模</td>
      </tr>
  </tbody>
</table>
<ul>
<li>
<p>企業規模や、OSS単位ごとで使用される粒度が異なる。（独自なところもあるが上記2つが主流の流派）</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 現在`master`ブランチに居ることを確認して</span>
</span></span><span class="line"><span class="cl">$ git branch
</span></span><span class="line"><span class="cl">* master
</span></span><span class="line"><span class="cl">$ git cheackout -b feature/edit_hoge
</span></span></code></pre></div></li>
<li>
<p>ie.</p>
<ul>
<li><code>feature/{任意}}</code> ブランチ名を切り出す。</li>
<li>わざわざ明記しなくとも動く。ただ、このように明示的にしていることで開発にかかる他の方に迷惑を被ることを回避できる。</li>
</ul>
</li>
<li>
<p>cf.</p>
<ul>
<li><a href="https://docs.github.com/en/get-started/quickstart/github-flow">GitHub flow</a> GitHub</li>
<li><a href="https://www.kagoya.jp/howto/it-glossary/develop/githubflow/">【入門】Github Flowとは？使い方の基本</a> カゴヤのサーバー研究室</li>
<li><a href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow">What is Gitflow?</a> Atlassian</li>
<li><a href="https://dev.classmethod.jp/articles/introduce-git-flow/">Git-flowをざっと整理してみた</a> DevoloperIO</li>
</ul>
</li>
</ul>
<h3 id="手元に幹を植え込み">手元に幹を（植え込み🪴）<a class="anchor" aria-hidden="true" href="#手元に幹を植え込み"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h3>
<pre tabindex="0"><code>remote repository -[main] -------&gt;
                   | /fork   | /clone
                   ↓         |
remote repository  [main] ---|---&gt;
                   | /clone  |
                   ↓         ↓
local  repository  [main] -------&gt;
</code></pre><ul>
<li>cf.
<ul>
<li><a href="https://docs.github.com/ja/pull-requests/collaborating-with-pull-requests/working-with-forks/fork-a-repo">リポジトリをフォークする</a> GitHub</li>
<li><a href="https://qiita.com/matsubox/items/09904e4c51e6bc267990">リポジトリのcloneとforkの違い</a> Qiita</li>
<li><a href="https://www.kagoya.jp/howto/rentalserver/webtrend/githubfork/">Githubリポジトリのfork（フォーク/派生）の使い方・clone（クローン）との使い分け</a> カゴヤのサーバー研究室</li>
</ul>
</li>
</ul>
<h3 id="幹から枝を生やす">幹から枝を生やす<a class="anchor" aria-hidden="true" href="#幹から枝を生やす"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h3>
<pre tabindex="0"><code># main/master branch から新たにブランチを切り出したい。

local -[main] branch ------------------------&gt;
            └├--&gt; Aさん[feature_A] branch ---&gt;
             └--&gt; Bさん[feature_B] branch ---&gt;
</code></pre><ol>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git checkout -b feature_B
</span></span></code></pre></div></li>
</ol>
<h3 id="他の人の枝を手元にも">他の人の枝を手元にも<a class="anchor" aria-hidden="true" href="#他の人の枝を手元にも"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h3>
<pre tabindex="0"><code># 
remote    -[main]-------------------------✨---------------------&gt;
                                          |   |Aさんの[feature_A] branch
[A] local -[main] branch -----------------|-&gt; |
          └-&gt; Aさん[feature_A] branch -----┘   |
                                              |
[B] local -[main] branch ---------------------|------------------&gt;
                                              └-&gt; Bさん[feature_A] branch
</code></pre><ol>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 他の人のブランチの最新の変更を取得して、リモート上のブランチ名を一覧確認</span>
</span></span><span class="line"><span class="cl">$ git fetch origin
</span></span><span class="line"><span class="cl">$ git branch -r
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># feature_Aブランチを自分のローカルにチェックアウト</span>
</span></span><span class="line"><span class="cl">$ git checkout -b feature_A origin/feature_A
</span></span><span class="line"><span class="cl">$ git branch
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 変更を加え、コミット＆プッシュ</span>
</span></span><span class="line"><span class="cl">$ git add .
</span></span><span class="line"><span class="cl">$ git commit -m <span class="s2">&#34;プルリクエストのための変更&#34;</span>
</span></span><span class="line"><span class="cl">$ git push origin feature
</span></span></code></pre></div></li>
</ol>
<h3 id="枝から枝を">枝から枝を<a class="anchor" aria-hidden="true" href="#枝から枝を"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h3>
<pre tabindex="0"><code># main/master branch に merge されていない 他の人の branch に対してプルリクエストを作成したい。

local -[main] branch ------------------------------------------&gt;
            └-&gt; Aさん[faeture_A] branch -----------------------&gt;
                               └-&gt; Bさん[feature_B] branch -┘
</code></pre><ol>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 他の人のブランチの最新の変更を取得するためにリモートリポジトリからフェッチ</span>
</span></span><span class="line"><span class="cl">$ git fetch origin &lt;その他の人のブランチ名&gt;
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 他の人のブランチをローカルに持ってくるために、チェックアウト</span>
</span></span><span class="line"><span class="cl">$ git checkout -b &lt;新しいブランチ名&gt; origin/&lt;その他の人のブランチ名&gt;
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 変更を加え、コミット＆プッシュee</span>
</span></span><span class="line"><span class="cl">$ git add .
</span></span><span class="line"><span class="cl">$ git commit -m <span class="s2">&#34;プルリクエストのための変更&#34;</span>
</span></span><span class="line"><span class="cl">$ git push origin &lt;新しいブランチ名&gt;
</span></span></code></pre></div></li>
</ol>
<h3 id="枝から枝を名前変更">枝から枝を（名前変更）<a class="anchor" aria-hidden="true" href="#枝から枝を名前変更"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h3>
<pre tabindex="0"><code># branch名を[feature_B] → [feature_C] に変えたい

local -[main] branch -------------------------------------------------&gt;
            └-&gt; Aさん[faeture_A] branch ------------------------------&gt;
                └-&gt; Bさん[feature_B] branch -&gt; [feature_C] branch ----&gt;
</code></pre><ol>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 現在ブランチ確認</span>
</span></span><span class="line"><span class="cl">$ git branch
</span></span><span class="line"><span class="cl">* feature_B
</span></span><span class="line"><span class="cl">  main
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 現在ブランチ名をリネーム</span>
</span></span><span class="line"><span class="cl">$ git branch -m feature_C
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 新しいブランチ名をリモートにプッシュ反映</span>
</span></span><span class="line"><span class="cl">$ git push origin feature_C
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 古いブランチ名はリモートから削除（後片付け）</span>
</span></span><span class="line"><span class="cl">$ git push origin --delete feature_B
</span></span><span class="line"><span class="cl"><span class="c1"># 他の開発者への通知</span>
</span></span><span class="line"><span class="cl">$ git fetch origin
</span></span></code></pre></div></li>
</ol>
<h3 id="大きく育った枝を剪定">大きく育った枝を剪定<a class="anchor" aria-hidden="true" href="#大きく育った枝を剪定"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h3>
<pre tabindex="0"><code># [feature_A] の修正ファイル数が膨大になり分割して、切り出しor並び替えしたい

-[main] branch -------------------------------------------&gt;
      └-&gt; Aさん[faeture_A] branch　                 | | |
                        |/rebase                   | | |
                        └-&gt; [new-branch-1] branch -┘ | |
                        └-&gt; [new-branch-2] branch ---|-┘
                        └-&gt; [new-branch-3] branch ---┘
                        └-&gt; [new-branch-4] branch ------×
</code></pre><ol>
<li>コミット分割（※ 必要に応じて）
<ol>
<li>
<ul>
<li></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># コミットをいくつかに分割したい場合、インタラクティブリベースでコミットを分割</span>
</span></span><span class="line"><span class="cl"><span class="c1"># （ n は分割したいコミットの数）</span>
</span></span><span class="line"><span class="cl">$ git rebase -i HEAD~n
</span></span></code></pre></div></li>
<li>分割したいコミットの行を <code>edit</code> に変更。(エディタが開き、コミット履歴が表示されます。)
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">pick e7f6c98 First commit
</span></span><span class="line"><span class="cl">edit d4f8a7b Second commit
</span></span><span class="line"><span class="cl">pick 7a7f6e3 Third commit
</span></span></code></pre></div></li>
<li>
<ul>
<li></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># editにしたコミットが表示されたら、そのコミットを分割</span>
</span></span><span class="line"><span class="cl"><span class="c1"># コミットを一旦解除</span>
</span></span><span class="line"><span class="cl">$ git reset HEAD^
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git add &lt;ファイル名&gt;
</span></span><span class="line"><span class="cl">$ git commit -m <span class="s2">&#34;細かく分けたコミット1&#34;</span>
</span></span><span class="line"><span class="cl">$ git add &lt;別のファイル名&gt;
</span></span><span class="line"><span class="cl">$ git commit -m <span class="s2">&#34;細かく分けたコミット2&#34;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">すべてのコミットを分割した後、リベースを続行
</span></span><span class="line"><span class="cl">$ git rebase --continue
</span></span></code></pre></div></li>
</ol>
</li>
<li><strong>ブランチ</strong>分割
<ul>
<li>異なるPRを作成するために、複数のブランチに変更を振り分け。</li>
<li>新しいブランチを作成
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 現在ブランチから分割する新しいブランチを作成。</span>
</span></span><span class="line"><span class="cl">$  git checkout -b new-branch-1
</span></span></code></pre></div><ul>
<li>特定のコミットを含むようにブランチを操作</li>
<li>新しいブランチに特定のコミットだけを残すために、<code>git reset</code>や<code>git cherry-pick</code>を使う。</li>
<li>eg.
<ol>
<li>
<ul>
<li></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 新しいブランチに特定のコミットだけを残したい場合</span>
</span></span><span class="line"><span class="cl">$ git reset --hard &lt;特定のコミットハッシュ&gt;
</span></span></code></pre></div></li>
<li>
<ul>
<li></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 不要なコミットを削除したい場合（新しいブランチに残したくないコミットがあれば）</span>
</span></span><span class="line"><span class="cl">$ git rebase -i
</span></span></code></pre></div></li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li>各ブランチでPR作成
<ul>
<li>それぞれのブランチで、GitHubにプッシュして新しいPRを作成。
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git push origin new-branch-1
</span></span></code></pre></div>GitHub上で、この新しいブランチに基づいたPRを作成します。
次に、他のブランチも同様にプッシュし、それぞれにPRを作成します。</li>
</ul>
</li>
</ol>
<h3 id="古くなった枝を最新に">古くなった枝を最新に<a class="anchor" aria-hidden="true" href="#古くなった枝を最新に"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h3>
<pre tabindex="0"><code>remote -[main] branch -----------------------------------------&gt;
                                           |/pull       |/pull
local  -[main] branch ---------------------|------------|------&gt;
             |                             |            |
             |                             ↓/merge      ↓/rebase
             └&gt; Aさん[faeture_A] branch ---✨-----------✨------&gt;
</code></pre><p><strong>[Merge] 簡単かつ安全（でも履歴汚ねぇ&hellip;）</strong></p>
<ol>
<li>最新のmain（またはdevelop）ブランチを取得
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git checkout main
</span></span><span class="line"><span class="cl">$ git pull origin main
</span></span></code></pre></div></li>
<li>作業ブランチに移動し、マージ
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git checkout feature_A
</span></span><span class="line"><span class="cl">$ git merge main
</span></span></code></pre></div><ul>
<li>(if) マージコンフリクトの解消
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git add &lt;conflicted-files&gt;
</span></span><span class="line"><span class="cl">$ git commit -S -m <span class="s2">&#34;memo&#34;</span>
</span></span></code></pre></div></li>
</ul>
</li>
<li>変更をリモートにプッシュ
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git push origin feature_A
</span></span></code></pre></div></li>
</ol>
<p><strong>[Rebase] 綺麗な履歴</strong></p>
<p>mainブランチの最新のコミットの後に来るように並べ替えることができる。
これにより、コミット履歴が綺麗な状態で最新コードを取り込むことができる。
一方で、特に共有ブランチに対して行う場合は強制プッシュが必要になる。（他の開発者に影響が出る可能性あり）</p>
<ol>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git checkout main
</span></span><span class="line"><span class="cl">$ git pull origin main
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git checkout feature_A
</span></span><span class="line"><span class="cl">$ git rebase main
</span></span></code></pre></div><ul>
<li>(if) リベース中にコンフリクトが発生した場合
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git add &lt;conflicted-files&gt;
</span></span><span class="line"><span class="cl">$ git rebase --continue
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 中断したい場合</span>
</span></span><span class="line"><span class="cl">$ git rebase --abort
</span></span></code></pre></div></li>
</ul>
</li>
<li>リモートに強制プッシュ
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git push --force-with-lease origin feature_A
</span></span></code></pre></div></li>
</ol>
<h3 id="空コミットの要請">空コミットの要請<a class="anchor" aria-hidden="true" href="#空コミットの要請"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git commit --allow-empty -m <span class="s2">&#34;メッセージ&#34;</span>
</span></span></code></pre></div><ul>
<li>cf.
<ul>
<li><a href="https://kentarotawara.hatenablog.com/entry/2020/11/05/223639">git commit &ndash;allow-empty で空コミットを作成してPR作るといい感じ</a> HatenaBlog</li>
<li><a href="https://hosochin.com/2022/11/04/post-1491/">【Github】空コミットをpushする</a> hosochinの技術ブログ</li>
<li><a href="https://www.freecodecamp.org/news/how-to-push-an-empty-commit-with-git/">How to Push an Empty Commit in Git</a> FreeCodeCamp</li>
</ul>
</li>
</ul>
<h3 id="gpg-署名付きコミット">GPG (署名付きコミット)<a class="anchor" aria-hidden="true" href="#gpg-署名付きコミット"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h3>
<pre tabindex="0"><code>                                      　↑/commit :GPG 「わいやで」
-[main] branch　------------------------|----------------&gt;
      └&gt; Aさん[faeture_A] branch -------┘
</code></pre><ul>
<li>GitのGPGは、Gitにおいてコミットやタグなどの操作に署名を付けるための仕組み。</li>
<li>GPG（GNU Privacy Guard）は、デジタル署名や暗号化を行うためのツール。</li>
<li>GitのGPGを使用することで、コミットやタグが本当に信頼できるものであることを確認することができる。</li>
</ul>
<p>推奨セット（macOS）
0) 事前：インストール（Homebrew 派）</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">brew install gnupg pinentry-mac
</span></span></code></pre></div><ol>
<li>Git 署名の基本設定</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 署名鍵（できれば40桁のフルフィンガープリント）</span>
</span></span><span class="line"><span class="cl">git config --global user.signingkey YOUR_GPG_KEY_FPR
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 常にコミット/タグを署名</span>
</span></span><span class="line"><span class="cl">git config --global commit.gpgsign <span class="nb">true</span>
</span></span><span class="line"><span class="cl">git config --global tag.gpgSign <span class="nb">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># gpg の場所を明示（Homebrew の標準パス）</span>
</span></span><span class="line"><span class="cl">git config --global gpg.program /opt/homebrew/bin/gpg
</span></span></code></pre></div><ol start="2">
<li>gpg-agent のキャッシュを「1日」に</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">mkdir -p ~/.gnupg
</span></span><span class="line"><span class="cl">cat &gt; ~/.gnupg/gpg-agent.conf <span class="s">&lt;&lt;&#39;EOF&#39;
</span></span></span><span class="line"><span class="cl"><span class="s">pinentry-program /opt/homebrew/bin/pinentry-mac
</span></span></span><span class="line"><span class="cl"><span class="s">default-cache-ttl 86400
</span></span></span><span class="line"><span class="cl"><span class="s">max-cache-ttl 86400
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 反映</span>
</span></span><span class="line"><span class="cl">gpgconf --kill gpg-agent
</span></span><span class="line"><span class="cl">gpgconf --launch gpg-agent
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 確認</span>
</span></span><span class="line"><span class="cl">git show --show-signature
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># Homebrewで下準備</span>
</span></span><span class="line"><span class="cl">$ brew install gnupg pinentry-mac
</span></span><span class="line"><span class="cl"><span class="c1"># GPGキーペアの生成</span>
</span></span><span class="line"><span class="cl">$ gpg --full-generate-key
</span></span><span class="line"><span class="cl"><span class="c1"># 公開鍵の取得</span>
</span></span><span class="line"><span class="cl">$ gpg --list-keys <span class="c1"># $ gpg --list-secret-keys --keyid-format LONG</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Gitに公開鍵を登録:</span>
</span></span><span class="line"><span class="cl">$ gpg --armor --export YOUR_GPG_KEY_ID <span class="p">|</span> pbcopy
</span></span></code></pre></div><ul>
<li>GitHubの場合
<ul>
<li><a href="https://github.com/settings/keys">Settings &gt; SSH and GPG keys &gt; New GPG key</a></li>
<li>ヘッダー（<code>-----BEGIN PGP PUBLIC KEY BLOCK-----</code>と<code>-----END PGP PUBLIC KEY BLOCK-----</code>）を含めて貼り付け</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 1) 署名に使う鍵を設定（なるべくフルフィンガープリント推奨）</span>
</span></span><span class="line"><span class="cl">git config --global user.signingkey YOUR_GPG_KEY_FPR
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 2) コミット（とタグ）を常に署名</span>
</span></span><span class="line"><span class="cl">git config --global commit.gpgsign <span class="nb">true</span>
</span></span><span class="line"><span class="cl">git config --global tag.gpgSign <span class="nb">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 3) 必要なら gpg コマンドを指定（環境により gpg / gpg2）</span>
</span></span><span class="line"><span class="cl">git config --global gpg.program gpg
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 4) gpg-agent のキャッシュを「1日（= 86400秒）」に設定</span>
</span></span><span class="line"><span class="cl">mkdir -p ~/.gnupg
</span></span><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;default-cache-ttl 86400\nmax-cache-ttl 86400\n&#34;</span> &gt;&gt; ~/.gnupg/gpg-agent.conf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 5) gpg-agent を再起動して設定反映</span>
</span></span><span class="line"><span class="cl">gpgconf --kill gpg-agent
</span></span><span class="line"><span class="cl">gpgconf --launch gpg-agent
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 6) 署名が付いているか確認（直近のコミットを見る）</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 出力の中に default-cache-ttl が 86400 などに設定されていれば OK</span>
</span></span><span class="line"><span class="cl">git show --show-signature
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 署名付きテスト</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;hello&#34;</span> <span class="p">|</span> gpg --clearsign
</span></span></code></pre></div><ul>
<li>cf.
<ul>
<li><a href="https://docs.github.com/ja/authentication/managing-commit-signature-verification/generating-a-new-gpg-key">新しい GPG キーを生成する</a> GitHub Docs</li>
<li><a href="https://docs.github.com/en/authentication/managing-commit-signature-verification/telling-git-about-your-signing-key">Telling Git about your signing key</a> GitHub Docs</li>
<li><a href="https://qiita.com/usamik26/items/6b816db27b7661611d59">GitのコミットにGnuPGで署名する</a> Qiita</li>
</ul>
</li>
</ul>
<h3 id="ssh-セキュアに接続">SSH (セキュアに接続)<a class="anchor" aria-hidden="true" href="#ssh-セキュアに接続"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h3>
<ol>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 鍵と、錠（公開鍵）の二つを作成。</span>
</span></span><span class="line"><span class="cl">$ ssh-keygen -t ed25519 -C <span class="s2">&#34;your_email@example.com&#34;</span>
</span></span><span class="line"><span class="cl">Generating public/private ed25519 key pair.
</span></span><span class="line"><span class="cl">Enter file in which to save the key <span class="o">(</span>/Users/shiroimon/.ssh/id_ed25519<span class="o">)</span>:
</span></span><span class="line"><span class="cl">/Users/shiroimon/.ssh/id_ed25519 already exists.
</span></span><span class="line"><span class="cl">Overwrite <span class="o">(</span>y/n<span class="o">)</span>? y
</span></span><span class="line"><span class="cl">Enter passphrase <span class="o">(</span>empty <span class="k">for</span> no passphrase<span class="o">)</span>:
</span></span><span class="line"><span class="cl">Enter same passphrase again:
</span></span><span class="line"><span class="cl">Your identification has been saved in /Users/shiroimon/.ssh/id_ed25519
</span></span><span class="line"><span class="cl">Your public key has been saved in /Users/shiroimon/.ssh/id_ed25519.pub
</span></span><span class="line"><span class="cl">The key fingerprint is:
</span></span><span class="line"><span class="cl">SHA256:jsbbPCJAb8eca8XqyxUb1UvR6H+TnYHJimLyOY+sOu8 your_email@example.com
</span></span><span class="line"><span class="cl">The key<span class="err">&#39;</span>s randomart image is:
</span></span><span class="line"><span class="cl">+--<span class="o">[</span>ED25519 256<span class="o">]</span>--+
</span></span><span class="line"><span class="cl"><span class="p">|</span>            .o   <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span>           ....  <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span>          ..+ o  <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span>  .      . ..<span class="o">=</span> . <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span> . . o oS . o.  <span class="o">=</span><span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span>  . <span class="nv">oo</span><span class="o">==</span><span class="nv">o</span><span class="o">=</span> .  .+o<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span>   o .B+*      ..<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span>   ..o*Oo        <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span>   .<span class="o">=</span>E*<span class="o">==</span>o       <span class="p">|</span>
</span></span><span class="line"><span class="cl">+----<span class="o">[</span>SHA256<span class="o">]</span>-----+
</span></span></code></pre></div><ul>
<li>ie.
<ul>
<li>[🔑] <code>~/.ssh/id_ed25519</code></li>
<li>[🔒] <code>~/.ssh/id_ed25519.pub</code></li>
</ul>
</li>
</ul>
</li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 鍵番（SSHエージェント）を呼びつけて、自分の鍵を渡す</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">eval</span> <span class="s2">&#34;</span><span class="k">$(</span>ssh-agent -s<span class="k">)</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">Agent pid 190XX
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ vim ~/.ssh/config
</span></span></code></pre></div><ul>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt:config.txt" data-lang="txt:config.txt"><span class="line"><span class="cl">Host *
</span></span><span class="line"><span class="cl">    AddKeysToAgent yes
</span></span><span class="line"><span class="cl">    UseKeychain yes
</span></span><span class="line"><span class="cl">    IdentityFile ~/.ssh/id_ed25519
</span></span><span class="line"><span class="cl">    port 22
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># SSHエージェントに秘密鍵を追加する</span>
</span></span><span class="line"><span class="cl"><span class="c1"># $ ssh-add -K ~/.ssh/id_ed25519 (-K は非推奨に)</span>
</span></span><span class="line"><span class="cl">$ ssh-add --apple-use-keychain ~/.ssh/id_ed25519
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 施錠しにGitHubへ</span>
</span></span><span class="line"><span class="cl">$ ~/.ssh/id_ed25519.pub &gt; pbcopy
</span></span></code></pre></div><ul>
<li>GitHub
<ul>
<li><a href="https://github.com/settings/keys">Settings &gt; SSH and GPG keys &gt; New GPG key</a></li>
<li>title: お好みで key: ここにペースト</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 接続確認</span>
</span></span><span class="line"><span class="cl">$ ssh -T git@github.com
</span></span><span class="line"><span class="cl">Enter passphrase <span class="k">for</span> key <span class="s1">&#39;/Users/shiroimon/.ssh/id_ed25519&#39;</span>:
</span></span><span class="line"><span class="cl">Hi shiroimon! You<span class="err">&#39;</span>ve successfully authenticated, but GitHub does not provide shell access.
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># SSH接続</span>
</span></span><span class="line"><span class="cl">$ git config remote.origin.url
</span></span><span class="line"><span class="cl">$ git remote set-url origin git@github.com:<span class="o">[</span>ユーザID<span class="o">]</span>/<span class="o">[</span>リポジトリ<span class="o">]</span>.git
</span></span></code></pre></div></li>
</ol>
<ul>
<li>cf.
<ul>
<li><a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">Generating a new SSH key and adding it to the ssh-agent</a> GitHub</li>
<li><a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account?tool=cli">Adding a new SSH key to your GitHub accoun</a> GitHub</li>
<li><a href="https://docs.github.com/ja/github/authenticating-to-github/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">新しい SSH キーを生成して ssh-agent に追加する</a> GitHub</li>
<li><a href="https://datawokagaku.com/github_ssh/">【超簡単！？】GithubにSSH接続する方法</a> 米国データサイエンティストのブログ</li>
<li><a href="https://qiita.com/altblanc/items/2ddcfa68ece7a68aff3d">SSHでgit cloneする（gitlab）</a> Qiita</li>
<li><a href="https://qiita.com/shizuma/items/2b2f873a0034839e47ce">GitHubでssh接続する手順<del>公開鍵・秘密鍵の生成から</del></a> Qiita</li>
</ul>
</li>
</ul>
<h3 id="やっぱり要らないコミット前">やっぱり要らない（コミット前）<a class="anchor" aria-hidden="true" href="#やっぱり要らないコミット前"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h3>
<ul>
<li>初回の<code>git add</code>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 全消し</span>
</span></span><span class="line"><span class="cl">$ git rm --cached -r .
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 個別消し</span>
</span></span><span class="line"><span class="cl">$ git rm --cached -r file_name
</span></span></code></pre></div></li>
<li>２回目以降
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 全消し</span>
</span></span><span class="line"><span class="cl">$ git reset HEAD
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 個別消し</span>
</span></span><span class="line"><span class="cl">$ git reset HEAD file_name
</span></span></code></pre></div></li>
<li>cf.
<ul>
<li><a href="https://qiita.com/yukure/items/89562e5eb1d03995dc5b">git add を取り消す</a> Qiita</li>
</ul>
</li>
</ul>
<h3 id="やっぱり要らないコミット">やっぱり要らない（コミット）<a class="anchor" aria-hidden="true" href="#やっぱり要らないコミット"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h3>
<ul>
<li>cf.
<ul>
<li><a href="https://tech.nri-net.com/entry/git_revert_reset">【Git】後から必要なくなった実装を取り消す方法～revertとreset～</a> NRI Netcom</li>
<li><a href="https://tmicha.hateblo.jp/entry/2017/04/26/140548">【git】revretしたcommitをまたrevertして戻した話</a> HatenaBlog</li>
<li><a href="https://envader.plus/article/244">「git reset」と「git revert」の主な使い分け</a> envader</li>
<li><a href="https://qiita.com/yukure/items/89562e5eb1d03995dc5b">git add を取り消す</a> Qiita</li>
<li><a href="https://tech-blog.rakus.co.jp/entry/20210528/git">【Git入門】git commitを取り消したい、元に戻す方法まとめ</a> RAKUS</li>
</ul>
</li>
</ul>
<h3 id="取り込むほどでもない枝">取り込むほどでもない枝<a class="anchor" aria-hidden="true" href="#取り込むほどでもない枝"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h3>
<ul>
<li>新規ファイルを一時的にStashする場合、通常の<code>git stash</code> コマンドでは対応できない</li>
<li>∵ <code>git stash</code> は <strong>追跡されているファイル</strong> の変更しか保存しないため</li>
</ul>
<ol>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git status
</span></span><span class="line"><span class="cl">On branch feature_A
</span></span><span class="line"><span class="cl">Your branch is up to date with <span class="s1">&#39;origin/feature_A&#39;</span>.
</span></span><span class="line"><span class="cl">iru.tf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Untracked files:
</span></span><span class="line"><span class="cl"><span class="o">(</span>use <span class="s2">&#34;git add &lt;file&gt;...&#34;</span> to include in what will be committed<span class="o">)</span>
</span></span><span class="line"><span class="cl">    irane_.txt &lt;- 取り込むほどでもないファイル
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">nothing added to commit but untracked files present <span class="o">(</span>use <span class="s2">&#34;git add&#34;</span> to track<span class="o">)</span>
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git add iru.tf
</span></span><span class="line"><span class="cl">$ git stash -u
</span></span></code></pre></div><ul>
<li><code>-u</code> &ndash;include-untracked :未追跡ファイルもStashに含める</li>
</ul>
</li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git stash list
</span></span><span class="line"><span class="cl">stash@<span class="o">{</span>0<span class="o">}</span>: WIP on feature_A: 0612cad1240 Dummy commit to .tf
</span></span></code></pre></div></li>
</ol>
<h3 id="取り込むほどでもない枝2">取り込むほどでもない枝2<a class="anchor" aria-hidden="true" href="#取り込むほどでもない枝2"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h3>
<ul>
<li>幾つか既に<code>stash list</code> にあり、その中身だけ見たい（なんならいる場合は使いわましたい）</li>
</ul>
<ol>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ git stash list
</span></span><span class="line"><span class="cl">stash@<span class="o">{</span>0<span class="o">}</span>: WIP on feature_A: 0612cad1240 Dummy commit to .tf
</span></span><span class="line"><span class="cl">stash@<span class="o">{</span>1<span class="o">}</span>: WIP on feature/new-feature: abc456 Update config
</span></span><span class="line"><span class="cl">stash@<span class="o">{</span>2<span class="o">}</span>: WIP on feature/bug-fix: def789 Fix bug
</span></span><span class="line"><span class="cl">stash@<span class="o">{</span>3<span class="o">}</span>: WIP on master: 123abc Modify README
</span></span></code></pre></div></li>
<li>特定のStashの中身を見る
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 差分全体を確認</span>
</span></span><span class="line"><span class="cl">$ git stash show -p stash@<span class="o">{</span>0<span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 変更ファイル一覧だけを確認</span>
</span></span><span class="line"><span class="cl">$ git stash show stash@<span class="o">{</span>n<span class="o">}</span>
</span></span></code></pre></div></li>
<li>（一時的に）Stashを適用
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 適用</span>
</span></span><span class="line"><span class="cl">$ git stash apply stash@<span class="o">{</span>0<span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 確認が終わったら戻す</span>
</span></span><span class="line"><span class="cl">$ git stash drop stash@<span class="o">{</span>n<span class="o">}</span>
</span></span></code></pre></div><ul>
<li>再度Stashに戻すなら
<code>$ git stash save &quot;Re-applied stash@{n}&quot;</code></li>
</ul>
</li>
<li>Stashを削除
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 適用してStashは削除</span>
</span></span><span class="line"><span class="cl">$ git stash pop
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 特定消し</span>
</span></span><span class="line"><span class="cl">$ git stash drop stash@<span class="o">{</span>0<span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 全消し</span>
</span></span><span class="line"><span class="cl">$ git stash clear
</span></span></code></pre></div></li>
</ol>
<h3 id="幹に枝を反映の仕方">幹に枝を反映の仕方<a class="anchor" aria-hidden="true" href="#幹に枝を反映の仕方"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h3>
<p>GitHubのWebからのマージ方法</p>
<ol>
<li>Create a merge commit</li>
<li>Rebase and merge</li>
<li>Squash and merge</li>
</ol>
<p>cf. <a href="https://qiita.com/ko-he-8/items/94e872f2154829c868df">GithubでのWeb上からのマージの仕方3種とその使いどころ</a> Qiita</p>
<h3 id="幹と枝の差分だけ抽出">幹と枝の差分だけ抽出<a class="anchor" aria-hidden="true" href="#幹と枝の差分だけ抽出"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h3>
<pre tabindex="0"><code></code></pre><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 差分のあるファイルのみをtar.gz形式で圧縮したファイルを作成</span>
</span></span><span class="line"><span class="cl">$ git diff <span class="o">{</span>add/your_branch_name<span class="o">}</span> --name-only <span class="p">|</span> xargs tar czf diff.tar.gz
</span></span></code></pre></div><ul>
<li><code>git diff {add/your_branch_name} --name-only</code> 現在のブランチと {add/your_branch_name} ブランチの差分があるファイル名のみを表示</li>
<li><code>| xargs tar czf diff.tar.gz</code> 表示されたファイル名を引数として受け取り、それらのファイルを diff.tar.gz という名前のtarアーカイブに圧縮</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># {add/your_branch_name} ブランチから、origin/staging との差分があるファイル（追加・コピー・修正・リネームされたもの）のみをZIPファイルにアーカイブ</span>
</span></span><span class="line"><span class="cl">$ git archive <span class="o">{</span>add/your_branch_name<span class="o">}</span> <span class="sb">`</span>git diff --name-only origin/staging add/shops_referral_sheet --diff-filter<span class="o">=</span>ACMR<span class="sb">`</span> -o archive.zip
</span></span></code></pre></div><ul>
<li><code>git diff --name-only origin/staging {add/your_branch_name} --diff-filter=ACMR:</code></li>
<li><code>origin/staging</code> と <code>{add/your_branch_name}</code> ブランチの差分を表示</li>
<li><code>--diff-filter=ACMR</code> は、追加(A)、コピー(C)、修正(M)、リネーム(R) されたファイルのみを対象とする</li>
<li><code>git archive</code> 指定されたブランチ（{add/your_branch_name}）から、差分のあるファイルを抽出</li>
<li><code>-o archive.zip</code> 結果を archive.zip という名前のZIPファイルに出力</li>
</ul>
<h3></h3>
<h2 id="ref">Ref.<a class="anchor" aria-hidden="true" href="#ref"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> </h2>
<ul>
<li><a href="https://ja.wikipedia.org/wiki/Git">Git</a> Wikipedia</li>
<li><a href="https://www.kagoya.jp/howto/it-glossary/develop/git/">【入門】Gitとは？できることや使い方、GitHubとの違いをわかりやすく解説</a> カゴヤのサーバー研究室</li>
<li><a href="https://backlog.com/ja/git-tutorial/intro/01/">Gitを使ったバージョン管理</a> サル先生のGit入門</li>
<li><a href="https://circleci.com/ja/blog/git-tags-vs-branches/">Git Tag と ブランチ：相違点と使いどころの解説</a> cicleci</li>
<li><a href="https://note.nkmk.me/git-config-setting/">Gitの設定をgit configで確認・変更</a> note</li>
</ul>
</article>
        </div>
        </div>
        </div>
    </div>
        
        
        
        <div class="Box mt-3 position-relative">
        <div class="Box-body px-5 pb-5">
            <article class="markdown-body entry-content container-lg">
                <h2>See Also</h2>
                <ul class="mt-2">
                    
                    <li class="p-1">
                        <div>
                            <a href="../../post/github_how_to_check_difference/">[GitHub] How to check difference code</a>
                            <time datetime="2024-07-23 04:13" class="no-wrap text-small ml-1">(2024-07-23 04:13)</time>
                        </div>
                        <div class="text-small text-gray mb-1 mt-1">Methods and tools to capture code fixes faster and more accurately.</div>
                    </li>
                    
                    <li class="p-1">
                        <div>
                            <a href="../../post/vim_building_plugin/">[Vim] Building plugin</a>
                            <time datetime="2024-09-11 19:39" class="no-wrap text-small ml-1">(2024-09-11 19:39)</time>
                        </div>
                        <div class="text-small text-gray mb-1 mt-1">Once I gain a deeper understanding, what may be able to develop general-purpose automated tools.</div>
                    </li>
                    
                    <li class="p-1">
                        <div>
                            <a href="../../post/docker_commands_memorandum/">[Docker] Commands memorandum</a>
                            <time datetime="2024-08-21 00:00" class="no-wrap text-small ml-1">(2024-08-21 00:00)</time>
                        </div>
                        <div class="text-small text-gray mb-1 mt-1">I want to deepen my understanding of Docker&#39;s basic commands and mechanisms.</div>
                    </li>
                    
                    <li class="p-1">
                        <div>
                            <a href="../../post/vim_commands_memorandum/">[Vim] Commands memorandum</a>
                            <time datetime="2024-08-17 01:02" class="no-wrap text-small ml-1">(2024-08-17 01:02)</time>
                        </div>
                        <div class="text-small text-gray mb-1 mt-1">A list of vim commands for the TextEditor tool, along with various tips.</div>
                    </li>
                    
                    <li class="p-1">
                        <div>
                            <a href="../../post/english_abbreviations/">[English] Abbreviations</a>
                            <time datetime="2024-07-30 12:48" class="no-wrap text-small ml-1">(2024-07-30 12:48)</time>
                        </div>
                        <div class="text-small text-gray mb-1 mt-1">About abbreviations. They also appear in business and professional situations.</div>
                    </li>
                    
                </ul>
            </article>
        </div>
        </div>
        
    </div>
    </div>
</main>
</div>

<script type="application/javascript" src='https://shiroimon.kithub.f5.si/js/toc.js'></script>
<link rel="stylesheet" href='https://shiroimon.kithub.f5.si/css/toc.css' />


<script
    src='https://shiroimon.kithub.f5.si/js/syntax-highlight-title.js'
    crossorigin="anonymous"
    type="application/javascript">
</script>
<link rel="stylesheet" href="../../css/syntax-highlight-title.css">







  
<div id="gitalk-container" class="gitalk-container"></div>
<link rel="stylesheet" href='https://shiroimon.kithub.f5.si/css/gitalk.css'>
<script src='https://shiroimon.kithub.f5.si/js/gitalk.min.js'></script>
<script>
  const gitalk = new Gitalk({
    clientID: 'Ov23li4bh2st9tQoquIu',
    clientSecret: 'a7f9702fcb30947b9359d89046ada17fadbca6b9',
    repo: 'todayilearned',
    owner: 'shiroihon',
    admin: ['shiroihon'],
    id: eval( null ), 
    distractionFreeMode: false 
  });
  (function() {
    gitalk.render('gitalk-container');
  })();
</script>

</div>

  <div class="footer container-xl width-full p-responsive">
  <div
    class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mr-lg-4" href="https://shiroimon.kithub.f5.si/">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24">
        <path fill-rule="evenodd"
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
        </path>
      </svg>
    </a>
    <ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      
      <li class="mr-3 mr-lg-0">Theme by <a href='https://github.com/MeiK2333/github-style'>github-style</a></li>
      
      <li class="mr-3 mr-lg-0">GitHub and the Invertocat logo are trademarks of <a href="https://github.com/">GitHub, Inc.</a></li>
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>


</div>

</body>

<script type="application/javascript" src="https://shiroimon.kithub.f5.si/js/github-style.js"></script>





<script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>
<script type="application/javascript" src='https://shiroimon.kithub.f5.si/js/search.js'></script>



</html>